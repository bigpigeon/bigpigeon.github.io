---
layout: demo
title: "go interface"
date: 2016-01-16 17:59:00
excerpt: golang中interface一些神奇的用法
---
package main

import (
	"fmt"
)

// 可以为函数增方法
type Tester interface {
	Do()
	PrintPoint()
}

type FuncClass func()

func (self *FuncClass) PrintPoint() { fmt.Printf("my point:%p\n", self) }
func (self *FuncClass) Do()         { (*self)() }

var testGroup = []func(){
	func() {
		funcInstance := FuncClass(func() { fmt.Println("Hello, World!") })
		var t Tester = &funcInstance
		t.Do()
		t.PrintPoint()
	},
}

func main() {
	for index, function := range testGroup {
		fmt.Println("test", index+1)
		function()
	}
}